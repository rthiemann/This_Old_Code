10 PRINT CHR$(1);:HOME
20 GOSUB 450
30 REM         INITIALIZE
40 OPEN#1,".AUDIO"
50 DIM K$(12),P$(12),N(12),R(99):R=0:V=60:M=0:L=20
60 FOR J=0 TO 12:READ K$(J):NEXT J
70 FOR J=0 TO 12:READ N(J):NEXT J
80 FOR J=0 TO 12:READ P$(J):NEXT J
90 REM         INPUT
100 GET A$
110 REM         CHECK FOR ANY SPECIAL KEYS
120 IF A$="1" AND V>0 THEN V=V-1:GOTO 100
130 IF A$="2" AND V<60 THEN V=V+1:GOTO 100
140 IF A$="B" AND R>0 THEN R=R-1:PRINT"X";:GOTO 100
150 IF A$="3" THEN V=60:GOTO 100
160 IF A$=" " THEN PRINT"/ ";:GOTO 265
170 IF A$="P" THEN GOTO 360
180 IF A$="C" THEN R=0:GOTO 100
190 IF A$="X" THEN HOME:GOTO 100
200 IF A$="N" THEN GOTO 720
210 IF A$="M" THEN GOTO 840
215 IF A$="Z" THEN PRINT:INPUT"SPEED (1=FAST, 20=NORMAL, 300= SLOW) ? " ;L:GO TO 1000
220 IF A$="Q" THEN PRINT CHR$(1):HOME:CLOSE#1:END
230 FOR J=0 TO 12:IF A$=K$(J) THEN 280
240   NEXT J
250 IF A$="1" OR A$="2" OR A$="3" THEN GOTO 100
260 PRINT"/ ";
265 R(R)=O:R=R+1:IF R=299 THEN PRINT CHR$(7);:R=0:GOTO 100
270 GOTO 100
280 R(R)=N(J):R=R+1:IF R=299 THEN PRINT CHR$(7);:R=0:GOTO 100
290 REM          PLAY NOTE N(J)
300 PRINT#1;CHR$(128);CHR$(V);
310 PRINT#1;CHR$(N(J)-256$1NT(N(J)/256));CHR$(INT(N(J)/256));
320 PRINT#1;CHR$(L-256$INT(L/256));CHR$(INT(L/256));
330 PRINT A$;" (";P$(J);") ";
340 GOTO 100
350 REM           PLAY NOTES IN MEMORY ( R(X) )
360 VOL=V
370 FOR X=O TO R-1
380 IF R(X)=O THEN VOL=0
390 PRINT#1;CHR$(128);CHR$(VOL);
400 PRINT#1;CHR$(R(X)-256*INT(R(X)/256));CHR$(INT(R(X)/256));
410 PRINT#1;CHR$(L-256*INT(L/256));CHR$(INT(L/256));
411 IF M=0 THEN GOTO 420
412 FOR J=0 TO 12:IF R(X)=N(J) THEN GOTO 415
413   NEXT J
414 IF R(X)=O THEN PRINT"/ ";:GOTO 420
415 PRINT K$(J); "( ";P$(J);") ";
420 VOL=V
430 NEXT X
435 M=0
440 GOTO 100
450 REM        INSTRUCTIONS
460 PRINT USING"80c";"PIANO"
470 PRINT TAB(21);"    W     E        T     Y     U"
480 PRINT TAB(21);" A     S     D  F     G     H     J  K"
490 PRINT
500 PRINT TAB(21);"    C#    D#       F#    G#    A#"
510 PRINT TAB(21);" C     D     E  F     G     A     B  C"
520 PRINT:PRINT USING"80c";"COMMANDS"
530 PRINT TAB(10);"P = Play song in memory",
540 PRINT"B = Erase last note played",
550 PRINT TAB(10);"C = Clear memory       ",
560 PRINT"X = Clear screen below",
570 PRINT TAB(10);"1 = Lowers volume      ",
580 PRINT"M = Load song from disk",
590 PRINT TAB(10);"2 = Raises volume      ",
600 PRINT"N = Save song on disk"
610 PRINT TAB(10);"3 = Set volume to max. ",
615 PRINT"Z = Speed (1 - 300)"
620 PRINT TAB(10);"[space bar] = Rest     ",
630 PRINT"Q = Exit program"
640 PRINT CHR$(2);
650 RETURN
660 END
670 REM        BUTTONS; NOTE VALUES,& NOTES
690 DATA A,W,S,E,D,F,T,G,Y,H,U,J,K
690 DATA 1946,1836,1733,1636,1544,1457,1376,1298,1226,1157,1092,1031,973
700 DATA "C","C#","D","D#","E","F","F#","G","G#","A","A#","B","C"
710 END
720 REM        SAVE SONG ON DISK
730 HOME:INPUT"WHAT NAME? ";N$:IF LEN(N$)>15 THEN GOTO 730
735 IF N$="PIANO" THEN PRINT CHR$(7):GOTO 730
740 PREFIX$=".D1/"
750 CREATE N$, DATA
760 PREFIX$=".D1/":OPEN#2 AS OUTPUT,N$
765 WRITE#2;R
770 FOR T=0 TO R-1
790   WRITE*2;R(T)
790   NEXT T
900 CLOSE#2
810 PREFIX$=".DI/":LOCK N$
820 HOME
930 GOTO 100
840 REM         LOAD SONG FROM DISK
850 HOME:INPUT"WHICH SONG? ";N$
860 PREFIX$=".D1/"
870 OPEN#2 AS INPUT,N$
875 READ#2;R
880 FOR X=0 TO R-1
900   READ#2;R(X)
910   NEXT X
930 CLOSE#2
950 HOME
955 M=l
960 GOTO 100
1000 IF L<1 OR L>300 THEN L=L:GOTO 100
1010 GOTO 100